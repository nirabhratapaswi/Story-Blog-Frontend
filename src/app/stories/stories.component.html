<div class="parentClass">
  <div class="left" *ngIf="selectedFilter==filters[0]">
    <mat-grid-list cols="3" rowHeight="1:1">
      <div *ngFor="let story of stories; let storyIndex = index;" style="width: auto;">
        <!-- <br> -->
        <mat-grid-tile style="width: 90%;">
          <mat-card class="story_card" style="width: 90%;">
            <mat-card-title class="center" (click)="goToStory(story._id)">
              <h2 class="pointer">{{ story.title }}</h2>
              <h6 style="text-align: left;">
                <!-- Authors --> -
                <span *ngFor="let author of story.authors; let authorIndex = index;">
                  <i>{{ author }}</i>
                  <span *ngIf="authorIndex < story.authors.length-1">, </span>
                </span>
              </h6>
            </mat-card-title>
            <mat-card-subtitle onmousedown='return false;' onselectstart='return false;'>Posted: [<i>{{ story.created_at | date: 'dd/MM/yyyy' }}</i>]</mat-card-subtitle>
            <!-- <mat-card-content onmousedown='return false;' onselectstart='return false;'>{{ story.text }}</mat-card-content> -->
            <mat-card-footer onmousedown='return false;' onselectstart='return false;'>
              <mat-icon class="mat-icon-rtl-mirror" svgIcon="assets/images/favourite.svg"></mat-icon>
              <span *ngIf="story.likeStatus">
                <!-- <button mat-button color="primary" (click)="likeStory(story._id, storyIndex)">Like</button> -->
                <button type="button" color="primary" mat-icon-button (click)="likeStory(story._id, storyIndex)"><mat-icon>thumb_up</mat-icon></button>
              </span>
              <span *ngIf="!story.likeStatus">
                <!-- <button mat-button color="warn" (click)="likeStory(story._id, storyIndex)">Like</button> -->
                <button type="button" color="warn" mat-icon-button (click)="likeStory(story._id, storyIndex)"><mat-icon>thumb_up</mat-icon></button>
              </span>
              <span>+ {{ story.likes.length }}</span>
            </mat-card-footer>
          </mat-card>
        </mat-grid-tile>
      </div>
    </mat-grid-list>
    <button class="text-center" mat-raised-button color="primary" (click)="loadMoreStories()">Load More</button>
    <br>
  </div>
  <div class="left" *ngIf="selectedFilter==filters[1]">
      <mat-grid-list cols="3" rowHeight="1:1">
        <div *ngFor="let story of mostLikedStories; let storyIndex = index;" style="width: auto;">
          <!-- <br> -->
          <mat-grid-tile style="width: 90%;">
            <mat-card class="story_card" style="width: 90%;">
              <mat-card-title class="center" (click)="goToStory(story._id)">
                <h2 class="pointer">{{ story.title }}</h2>
                <h6 style="text-align: left;">
                  Authors -
                  <span *ngFor="let author of story.authors; let authorIndex = index;">
                    <i>{{ author }}</i>
                    <span *ngIf="authorIndex < story.authors.length-1">, </span>
                  </span>
                </h6>
              </mat-card-title>
              <mat-card-subtitle onmousedown='return false;' onselectstart='return false;'>Created On: <i>{{ story.created_at }}</i></mat-card-subtitle>
              <!-- <mat-card-content onmousedown='return false;' onselectstart='return false;'>{{ story.text }}</mat-card-content> -->
              <mat-card-footer onmousedown='return false;' onselectstart='return false;'>
                <mat-icon class="mat-icon-rtl-mirror" svgIcon="assets/images/favourite.svg"></mat-icon>
                <span *ngIf="story.likeStatus">
                  <!-- <button mat-button color="primary" (click)="likeStory(story._id, storyIndex)">Like</button> -->
                  <button type="button" color="primary" mat-icon-button (click)="likeStory(story._id, storyIndex)"><mat-icon>thumb_up</mat-icon></button>
                </span>
                <span *ngIf="!story.likeStatus">
                  <!-- <button mat-button color="warn" (click)="likeStory(story._id, storyIndex)">Like</button> -->
                  <button type="button" color="warn" mat-icon-button (click)="likeStory(story._id, storyIndex)"><mat-icon>thumb_up</mat-icon></button>
                </span>
                <span>+ {{ story.likes.length }}</span>
              </mat-card-footer>
            </mat-card>
          </mat-grid-tile>
        </div>
    </mat-grid-list>
    <button class="text-center" mat-raised-button color="primary" (click)="loadMoreStories()">Load More</button>
    <br>
  </div>
  <div class="left" *ngIf="selectedFilter==filters[2]">
    <div *ngFor="let writer of writers; let writerIndex = index;">
      <h2>{{ writer.name }} :</h2>
      <mat-list>
        <mat-list-item *ngFor="let story of writer.stories; let storyIndex = index;">
          <div matLine *ngIf="story" class="pointer" (click)="goToStory(story._id)">
              <span> &#9658; <i>{{ story.title }}</i> </span>
          </div>
        </mat-list-item>
      </mat-list>
    </div>
  </div>
  <div class="left" *ngIf="selectedFilter=='Single Story'">
    <mat-card class="full_story_card">
      <mat-card-title class="center">
        <h2>{{ singleStory.title }}</h2>
        <h6 style="text-align: left;">
          Authors -
          <span *ngFor="let author of singleStory.authors; let authorIndex = index;">
            <i>{{ author }}</i>
            <span *ngIf="authorIndex < singleStory.authors.length-1">, </span>
          </span>
        </h6>
      </mat-card-title>
      <mat-card-subtitle onmousedown='return false;' onselectstart='return false;'>Created On: <i>{{ singleStory.created_at }}</i></mat-card-subtitle>
      <mat-card-content onmousedown='return false;' onselectstart='return false;' class="full_story">{{ singleStory.text }}</mat-card-content>
      <mat-card-footer onmousedown='return false;' onselectstart='return false;'>
        <mat-icon class="mat-icon-rtl-mirror" svgIcon="assets/images/favourite.svg"></mat-icon>
        <span *ngIf="singleStory.likeStatus">
          <!-- <button mat-button color="primary" (click)="likeStory(singleStory._id, storyIndex)">Like</button> -->
          <button type="button" color="primary" mat-icon-button (click)="likeStory(singleStory._id, null)"><mat-icon>thumb_up</mat-icon></button>
        </span>
        <span *ngIf="!singleStory.likeStatus">
          <!-- <button mat-button color="warn" (click)="likeStory(singleStory._id, storyIndex)">Like</button> -->
          <button type="button" color="warn" mat-icon-button (click)="likeStory(singleStory._id, null)"><mat-icon>thumb_up</mat-icon></button>
        </span>
        <span>+ {{ singleStory.likes.length }}</span>
      </mat-card-footer>
    </mat-card>
  </div>
  <br>
  <div class="right">
    <h2 style="text-align: center;">Filter:</h2>
    <mat-radio-group class="radio-group" [(ngModel)]="selectedFilter">
      <mat-radio-button class="radio-button" *ngFor="let filter of filters" [value]="filter">
        {{filter}}
      </mat-radio-button>
    </mat-radio-group>
  </div>
</div>
